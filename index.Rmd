---
title       : Enerygy Statistics Database | United Nations Statistics Division
subtitle    : Electric, net installed capacity of electric power plants 
author      : Trieu Tran
job         : 
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides

--- .class #s1
## Introduction
"Energy Statistics Database" is a collective of data of energy production, trade, conversion and consumption of more than 220 countries/territories in the world.  The United Nation Statistics Division has developed this database and has made it publicly available.

This presentation provides a quick look at "Electricity, net installed capacity of electric power plants" data (as a subset of the "Energy Statistics Database"), and also comes with some R code snipets for the data exploration purpose.

--- .class #s2
## Data

### Where to get data
Download from URL: [Here](http://data.un.org/Data.aspx?d=EDATA&f=cmID%3aEC)

### Take a quick look at the data
```{r echo=FALSE}
rawData <- read.csv(file.path("data", "UNdata_Export.csv"), stringsAsFactors=TRUE, na.strings = c("NA","#DIV/0!",""))
str(rawData)
d <- rawData[1:(nrow(rawData) -2), c(1,2,3,5)]
names(d) <- c("Country", "Commodity", "Year", "Quantity")
d$code = "G"
test <- grep("installed", d$Commodity)
d[test, "code"] = "I"
d$code = as.factor(d$code)
```

--- .class #s3
## Data

### Data Description

<ol>
        <li> <strong>Country:</strong> Names of countries/territories </li>
        <li> <strong>>Commodity...Transaction:</strong> Installed or generating capacity of different types of electric power plants or pwer sources </li>
        <li> <strong>Year:</strong> Ranges from 1990 to 2013</li>
        <li> <strong>Year:</strong> Ranges from 1990 to 2013</li>
        <li> <strong>Unit:</strong> power unit in Kilowatts (KWs)</li>
        <li> <strong>Quantity:</strong> Total power installed or generated in a specific year in KWs</li>
</ol>

--- .class #s4 
## Data visualization

### Total net installed capacity of electric power plants of G20 countries 


##### Graph generation code
```{r echo = FALSE}
library(ggplot2)
library(dplyr)
figureDir <- 'figure'
if (!file.exists(figureDir)){
    dir.create(figureDir)
} 
```

```{r echo = TRUE}
countries <- c("Argentina", "Australia", "Brazil", "Canada", "China", "France", "Germany", "India", "Indonesia", "Italy", 
                         "Japan", "Mexico", "Russian Federation", "Saudi Arabia", "South Africa", "Korea, Republic of", "Turkey", "United Kingdom", 
                         "United States")

results <- d %>%
        filter(Year > 2002) %>%
        filter(code == "I") %>%
        filter(Country %in%  countries) %>%
        group_by(Country, Year) %>%
        summarise(ttl = sum(Quantity)/1000)

p <- ggplot(data = results, aes(x = factor(Year), y = ttl, color = Country))
p <- p + geom_point() + aes(group = Country) + geom_line() 
p <- p + labs(x = "Year", y = "Total Installed Capacity (MW)", title = "G20 Countries")

ggsave(file.path(figureDir, "plot1.png"), width=9.0, height=5.4, dpi=100)
```

--- .class #s5
## Data visualization

### Total net installed capacity of electric power plants of G20 countriess 

![](figure/plot1.png)

--- .class #s6
## Learn More

Visit my shiny app: [https://trieutn.shinyapps.io/data_products_course_project/](https://trieutn.shinyapps.io/data_products_course_project/)





